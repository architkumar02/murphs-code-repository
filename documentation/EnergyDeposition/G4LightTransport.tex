%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\subsection{GEANT4 Implementation}
Visible light in GEANT4 is known as an optical photon.
An optical photon has momentum ($\vec{p} = \hbar \vec{k}$), corresponding to the energy and direction of the photon, as well as a polarization ($\vec{e}$).
The GEANT4 toolkit breaks up light transport into two parts; the creation of the optical photon an  the transport of the optical photon through the material.
Each of these are material dependent properties which need to be supplied by the user.
This done by creating a material properties table \lstinline{G4MaterialPropertyTable}, of which the following properties are available:
\begin{itemize}
    \item \verb+RINDEX+
    \item \verb+ABSLENGTH+
\end{itemize}
\subsubsection{Scintillation Process}
The number of optical photons generated by GEANT4 is proportional to the energy lost during the step, determining the energy from the empirical emission spectra of the material.
In GEANT4 this is accomplished by creating a \verb+G4Scintillation+ process.\footnote{As the scintillation properties are attached to the process and not the material GEANT4 is incapable of more than one scintillation material in any given application.}
\begin{lstlisting}
#include "G4Scintillation.hh"

G4Scintillation* theScintProcess = new G4Scintillation("Scintillation");

theScintProcess->SetTrackSecondariesFirst(true);
theScintProcess->SetScintillationYield(7500.0/MeV);
theScintProcess->SetResolutionScale(1.0);
theScintProcess->SetScintillationTime(45.*ns);
\end{lstlisting}

\subsubsection{Optical Photon Transport}
There are three classes of optical photon interactions in GEANT4:
\begin{itemize}
    \item Refraction and reflection
    \item Bulk Absorption
    \item Rayleigh scattering
\end{itemize}
Of these only refraction and reflection are necessary. \cite{cern_interactionsOfOpticalPhotons}

\cite{riggi}
